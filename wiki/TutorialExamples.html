<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>lua-users wiki: Tutorial Examples</TITLE>
<LINK TYPE="text/css" REL="stylesheet" HREF="../styles/main.css">
</HEAD>
<BODY ><table width="100%" border="0"> <tr><td align=left width="100%"><h1><a href="/cgi-bin/wiki.pl?action=search&amp;string=TutorialExamples&amp;body=1" title="List pages referring to TutorialExamples">Tutorial Examples</a></h1></td><td align=right>
    <table cellpadding="0" cellspacing="0" border="0" width="1%">
      <tbody>
        <tr>
            <td><a href="../index.html">
            <img src="../images/nav-logo.png" alt="lua-users home" width="177" height="40" border="0"></a></td>
        </tr>
        <tr>
            <td>
            <table cellpadding="0" cellspacing="0" border="0" width="100%">
                <tbody>
                <tr>
                    <td><img src="../images/nav-elbow.png" alt="" width="48" height="40"></td>
                    <td nowrap valign="middle" width="100%">
                        <a href="../wiki/index.html" class="nav">wiki</a></td>
                </tr>
                </tbody>
            </table>
            </td>
        </tr>
      </tbody>
    </table>
<form method="post" action="../wiki/FindPage.html" enctype="application/x-www-form-urlencoded" style="display:inline; margin:0;">
<input type="hidden" name="action" value="search"  /><input type="text" name="string"  size="20" style="" id="search_query1" /><input type="hidden" name="title" value="1"  /><input type="submit" name=".submit" value="Search" /><input type="hidden" name="body" value="on"  /></form></td></tr> </table>
<br clear=all>
<H2>Lua command line</H2>
<p>
If we run the Lua executable without parameters we get the following message and a <code>&gt;</code> command prompt.
<DL>
<dt><dd><pre>

Lua 5.1.4  Copyright (C) 1994-2008 Lua.org, PUC-Rio

&gt;

</pre>
</DL>
<p>
All of the examples in the tutorial are typed at the command prompt <code>&gt;</code> and the output copied and pasted into the wiki.
<DL>
<dt><dd><pre class="code">
&gt; <span class="library">print</span>(<span class="string">"hello Lua user"</span>)

hello Lua user

&gt; <span class="library">print</span>(10*10)

100

</pre>

</DL>
<p>
If a line begins with an <code>=</code> Lua evaluates the line as an expression. It's shorthand for having to use the <code>print()</code> function. Note that this is just a feature of the interactive prompt, starting a statement with <code>=</code> in an actual Lua script file will be a syntax error.
<DL>
<dt><dd><pre class="code">
&gt; = <span class="string">"hello Lua user"</span>

hello Lua user

&gt; = 10*10

100

</pre>

</DL>
<p>
<H3>Multiline entry</H3>
<p>
We can enter commands over multiple lines if necessary. Lua will try and evaluate what you typed on a given line and assess whether the command is complete. If it is not considered complete a double command prompt appears <code>&gt;&gt;</code> so you can continue typing. E.g.,
<DL>
<dt><dd><pre class="code">
&gt; <span class="library">print</span>(

&gt;&gt;  <span class="string">"Hello lua user"</span>

&gt;&gt; )

Hello lua user

</pre>

</DL>
In the above example the <code>print(</code> statement is incomplete as the matching closing bracket is missing. The Lua command line assumes that you have more to type so the <code>&gt;&gt;</code> prompt is displayed. This continues until the statement is deemed complete. If you made a mistake you will get an error. This also works for the evaluation shorthand:
<DL>
<dt><dd><pre class="code">
&gt; = 10 *

&gt;&gt; 10 +

&gt;&gt; 5

105

</pre>

</DL>
<p>
<H2>Running a lua script file</H2>
<p>
If you have a long program with a lot of code you don't have to type in all your lines every time again at the Lua command prompt. Then simply save your lua script file in an editor and start lua with the name of the program file (instead of starting lua without parameters). For example: If you want to start my-lua-script.lua, you have to type "lua my-lua-script.lua" (without quotation marks) in your Shell; not in the Lua command prompt. This possibility is not necessary for this tutorial but will be useful if you want to write own programs.
<p>
<H2>Comments</H2>
<p>
Where you see "<code>--</code>", followed by text, this is a comment. Everything after the <code>--</code> is ignored by the Lua compiler on that line.
<DL>
<dt><dd><pre class="code">
&gt; = 1+1  <span class="comment">-- this is ignored.</span>

2

&gt; = 1+1     no comment

stdin:1: &lt;eof&gt; expected near `no'

</pre>

</DL>
<p>
<em>Note</em>: It is good behaviour to have but you <em>do not</em> have to type the comments in! They are just comments about what is happening for clarity especially for other maintainers to understand(if there are). 
<p>
<H2>Scope</H2>
<p>
(If you don't yet understand variable scoping or the local keyword, you can skip this part and keep following the tutorial)
<p>
In the interactive interpreter, each command line has its own scope, so local variables won't work like you might expect:
<p>
<DL>
<dt><dd><pre class="code">
&gt; <span class="keyword">local</span> x = 5

&gt; = x

<span class="keyword">nil</span>

</pre>

</DL>
<p>
So you will need to use globals in the interactive interpreter to keep values that you will want to use in other lines.
<hr>
<a href="../wiki/RecentChanges.html" >RecentChanges</a> &middot; <a href="/cgi-bin/wiki.pl?action=editprefs" >preferences</a><br>
<a href="/cgi-bin/wiki.pl?action=edit&amp;id=TutorialExamples" >edit</a> &middot; <a href="/cgi-bin/wiki.pl?action=history&amp;id=TutorialExamples" >history</a><br>Last edited August 9, 2013 10:13 am GMT <a href="/cgi-bin/wiki.pl?action=browse&amp;diff=1&amp;id=TutorialExamples" >(diff)</a>
</body>
</html>